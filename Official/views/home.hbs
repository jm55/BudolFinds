<link rel="stylesheet" href="../css/home.css">
<link rel="stylesheet" href="../css/post.css">

<script src="../js/banner.js"></script>
<script src="../js/home.js"></script>

<header class="card_brand_banner">
    <div class="upper_banner">
        <div class="my_account">
            <span><a id="userbutton"><img id="profile-pic" class="profilepic" src='{{#if currentUser.profilepic}}{{currentUser.profilepic}}{{else}}"../img/default/default_dp.png"{{/if}}' alt="User Profile Picture"></a></span>
            <span id="userfullname"> {{fullName currentUser.fname currentUser.mname currentUser.lname}} </span>
            <span> | </span>
            <span> <a href="" id="myaccount">My Account</a> </span>
            <span> | </span>
            <span> <a href="" id="logout-btn">Logout</a> </span>
        </div>
    </div>
    <div class="lower_banner">
        <span class="span_banner-title">
            <p class="banner_title"><a id="logo-btn">Budol Finds</a></p>
        </span>
        <span class="span_search-bar"><div class="search_bar">
            <nav class="menu">
                <input id="search-txt" name="search-txt" class="textfield" />
                {{>categories}}
                <button id="search-btn" class="menu_button">Search</button>                       
        </div></span>
    </div>
</header>

<div class="container">
    
    {{>new_post}}

    <div class="timeline">
        {{#if posts}}    
        {{#each posts}}
            <div id="" class="post card"> <!--BUILD ID BASED ON POST ID/HASH; SINGLE POST-CARD BLOCK - REPETITIVE-->
                <!--POST HEADER: CONTAINS POSTEE INFORMATION-->
                <div class="post_header">
                    <a href="">
                        <span class="post_user">
                            <img src={{this.user.profilepic}} class="postdp profilepic" alt="Profile Picture"><p class="username">{{this.user.username}}</p> <!--BUILD IMG SRC AND P<USERNAME> TEXT BASED ON POST USER DATA-->
                        </span>
                    </a>
                </div>
                <!--POST CONTENT: ALL DATA ABOUT THE POST-->
                <div class="post_content"> <!--SINGLE POST-CONTENT BLOCK - DON'T REPEAT-->
                    <div class="post_description">
                        <p class="post_description_text"> <!--BUILD TEXT BASED ON POST DESCRIPTION-->
                            {{this.description}}
                        </p>
                    </div>
                    <div class="post_list">
                        <table class="post_table">
                            <tr><a href="{{this.link}}">{{this.label}}</a></tr><!--BUILD TEXT AND A'S HREF BASED ON POST LINK DATA-->
                            <tr>
                                <td>Category:</td>
                                <td class="item_category_link"><a href="/posts/{{this.category}}">{{this.category}}</a></td> <!--BUILD TEXT AND A'S HREF BASED ON POST CATEGORY DATA-->
                            </tr>
                        </table>
                    </div>
                    <div class="post_image_div"><img src={{this.imgurl}} class="post_image" alt="Post Picture" loading="lazy"></div> <!--BUILD SRC VALUE AT JS BASED ON POST IMG DATA/DIRECTORY-->
                </div>

                <!-- POST FOOTER: CONTAINS CONTROLS FOR USER INTERACTION TO POST-->
                <div class="post_footer">
                    <div class="likes">
                        <p class="likecounter"><!--LIKES HERE--></p>
                        <p class="post_timedate"><!--POST DATE-TIME HERE--></p>
                    </div>
                    <form class="interact">
                        <input type="button" class="button" id="like-button" value="Like">
                        <input type="button" class="button" id="share-button" value="Share">
                        <input type="button" class="button" id="report-button" value="Report">
                        <input type="text" class="textfield comment_textfield">
                        <input type="submit" class="button" value="Comment"/>
                    </form>
                    <div class="comment_list">
                        <label>Comments</label>
                        <div class="comment_div"> <!--SINGLE COMMENT BLOCK - REPETITIVE-->
                            <a href="" class="username"><!--COMMENTER USERNAME HERE--></a><!--BUILD HREF VALUE AT JS BASED ON COMMENT OBJECT DATA--->
                            <p><!--COMMENT HERE--></p> <!--BUILD TEXT VALUE AT JS BASED ON COMMENT OBJECT DATA--->
                            <p class="comment-timedate"><!--COMMENT DATETIME HERE--></p><!--BUILD TEXT VALUE AT JS BASED ON COMMENT DATETIME DATA--->
                        </div>
                    </div>
                </div>
            </div>
        {{/each}}
        {{else}}
            {{>nopost}}
        {{/if}}
    </div> <!--END OF TIMELINE-->
</div>